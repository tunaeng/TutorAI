# üéì TutorAI - –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å –ò–ò-—Ç—å—é—Ç–æ—Ä–æ–º

–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è backend —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —Å –ò–ò-—Ç—å—é—Ç–æ—Ä–æ–º —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞. –£–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏, –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏ –∫—É—Ä—Å–æ–≤, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏.

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ü§ñ **–ò–ò-—Ç—å—é—Ç–æ—Ä** —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞
- üìö **–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** —Å –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏, –ø–æ—Ç–æ–∫–∞–º–∏, –º–æ–¥—É–ª—è–º–∏ –∏ —É—Ä–æ–∫–∞–º–∏
- üìù **3 —Ç–∏–ø–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤**: –ª–µ–∫—Ü–∏–æ–Ω–Ω—ã–µ, –∑–∞–¥–∞–Ω–∏—è, –º–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ
- üìÖ **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π** —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ (–ª–µ–∫—Ü–∏–∏, –ø—Ä–∞–∫—Ç–∏–∫–∞, —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞)
- üë• **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏** —Å Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π
- üìä **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- üîÑ **–°–∏—Å—Ç–µ–º–∞ –∑–∞–¥–∞–Ω–∏–π** —Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º —Å—Ç–∞—Ç—É—Å–æ–≤
- üí¨ **–ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π** –∏ –æ—Ç–≤–µ—Ç–æ–≤ –ò–ò-—Ç—å—é—Ç–æ—Ä–∞

## üèóÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **FastAPI** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- **SQLAlchemy 2.0** - ORM —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
- **PostgreSQL** - —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Alembic** - —Å–∏—Å—Ç–µ–º–∞ –º–∏–≥—Ä–∞—Ü–∏–π
- **SQLAdmin** - –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
- **Docker** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **Pydantic** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
TutorAI/
‚îú‚îÄ‚îÄ app/                          # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ main.py                   # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ FastAPI
‚îÇ   ‚îú‚îÄ‚îÄ core/                     # –Ø–¥—Ä–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database.py          # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ models/                   # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ education.py         # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ api/                      # API endpoints
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ v1/                   # –í–µ—Ä—Å–∏—è API v1
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ students.py      # –°—Ç—É–¥–µ–Ω—Ç—ã API
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ materials.py     # –ú–∞—Ç–µ—Ä–∏–∞–ª—ã API
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ messages.py      # –°–æ–æ–±—â–µ–Ω–∏—è API
‚îÇ   ‚îî‚îÄ‚îÄ admin/                    # –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
‚îÇ       ‚îî‚îÄ‚îÄ views.py             # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–¥–º–∏–Ω–∫–∏
‚îú‚îÄ‚îÄ alembic/                     # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ env.py                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Alembic
‚îÇ   ‚îú‚îÄ‚îÄ script.py.mako           # –®–∞–±–ª–æ–Ω –º–∏–≥—Ä–∞—Ü–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ versions/                # –§–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–π
‚îú‚îÄ‚îÄ db/                          # –°—Ö–µ–º—ã –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ init.sql                 # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ schema.sql               # –ü–æ–ª–Ω–∞—è —Å—Ö–µ–º–∞
‚îú‚îÄ‚îÄ scripts/                     # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ init_db.py              # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ seed_data.py            # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îî‚îÄ‚îÄ create_user.py           # –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ docker-compose.yml           # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile                   # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ requirements.txt             # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ alembic.ini                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Alembic
‚îî‚îÄ‚îÄ README.md                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ë–´–°–¢–†–´–ô –ó–ê–ü–£–°–ö (–û–î–ù–ê –ö–û–ú–ê–ù–î–ê)

```bash
# –í–°–ï –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò - –û–î–ù–ê –ö–û–ú–ê–ù–î–ê!
python scripts/auto_setup.py
```

### üéØ –ß—Ç–æ –ø–æ–ª—É—á–∏—Ç–µ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

- **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å**: http://localhost:8000/admin
- **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: http://localhost:8000/docs
- **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞**: http://localhost:8000 (—Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –∞–¥–º–∏–Ω–∫—É)

### üìä –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –≤–∫–ª—é—á–∞–µ—Ç:

- **–°—Ç—É–¥–µ–Ω—Ç—ã** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏
- **–ü—Ä–æ–≥—Ä–∞–º–º—ã –∫—É—Ä—Å–æ–≤** - –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã
- **–ü–æ—Ç–æ–∫–∏** - –ø–æ—Ç–æ–∫–∏ –æ–±—É—á–µ–Ω–∏—è
- **–ú–æ–¥—É–ª–∏** - —Ä–∞–∑–¥–µ–ª—ã –∫—É—Ä—Å–æ–≤
- **–£—Ä–æ–∫–∏** - —Ç–µ–º—ã —É—Ä–æ–∫–æ–≤
- **–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –∫—É—Ä—Å–∞** - —Ñ–∞–π–ª—ã –∏ –∫–æ–Ω—Ç–µ–Ω—Ç
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏—è** - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π
- **–ó–∞–¥–∞–Ω–∏—è** - —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è
- **–°–æ–æ–±—â–µ–Ω–∏—è** - –∏—Å—Ç–æ—Ä–∏—è —á–∞—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä)
- **–û—Ç–≤–µ—Ç—ã –±–æ—Ç–∞** - –æ—Ç–≤–µ—Ç—ã –ò–ò (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏

```bash
# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é
alembic revision --autogenerate -m "–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
alembic upgrade head

# –û—Ç–∫–∞—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
alembic downgrade -1

# –ü–æ–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –º–∏–≥—Ä–∞—Ü–∏–π
alembic history
```

## üìö API –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞:

- üìñ **Swagger UI**: http://localhost:8000/docs
- üìã **ReDoc**: http://localhost:8000/redoc  
- üîß **OpenAPI JSON**: http://localhost:8000/openapi.json

### API Endpoints

- **GET** `/` - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (—Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –∞–¥–º–∏–Ω–∫—É)
- **GET** `/health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **GET** `/admin` - –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
- **GET** `/docs` - API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

| –ú–æ–¥–µ–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| **Student** | –°—Ç—É–¥–µ–Ω—Ç—ã —Å Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π |
| **CourseProgram** | –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã |
| **Stream** | –ü–æ—Ç–æ–∫–∏ –æ–±—É—á–µ–Ω–∏—è |
| **Module** | –ú–æ–¥—É–ª–∏ –∫—É—Ä—Å–∞ (—Ä–∞–∑–¥–µ–ª—ã) |
| **Lesson** | –£—Ä–æ–∫–∏/—Ç–µ–º—ã –≤–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª–µ–π |
| **CourseMaterial** | –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –∫—É—Ä—Å–∞ (3 —Ç–∏–ø–∞) |
| **Message** | –°–æ–æ–±—â–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ |
| **BotResponse** | –û—Ç–≤–µ—Ç—ã –ò–ò-—Ç—å—é—Ç–æ—Ä–∞ |
| **Assignment** | –ó–∞–¥–∞–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ |
| **Schedule** | –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π |
| **Prompt** | –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –ò–ò |

### –¢–∏–ø—ã –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤

1. üìñ **–õ–µ–∫—Ü–∏–æ–Ω–Ω—ã–µ** (`lecture`) - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è —Å–ª—É—à–∞—Ç–µ–ª—è
2. üìù **–ó–∞–¥–∞–Ω–∏—è** (`assignment`) - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞–±–æ—Ç—ã  
3. üìã **–ú–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ** (`methodical`) - –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –æ—Ü–µ–Ω–∫–∏

### –¢–∏–ø—ã –∑–∞–Ω—è—Ç–∏–π

1. üéì **–õ–µ–∫—Ü–∏–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞** - —Å –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º
2. üíª **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞** - —Å –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º
3. üìö **–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞** - —Ç–æ–ª—å–∫–æ –¥–∞—Ç–∞

## ü§ñ –ò–ò-—Ç—å—é—Ç–æ—Ä –∏ Telegram –±–æ—Ç

### –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–º–ø—Ç–æ–≤

–°–∏—Å—Ç–µ–º–∞ —Ö—Ä–∞–Ω–∏—Ç –ø—Ä–æ–º–ø—Ç—ã –≤ —Ç–∞–±–ª–∏—Ü–µ `prompts` —Å —Ç–∏–ø–∞–º–∏:
- üîç **question_classifier** - –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
- ‚ùì **faq_response** - –æ—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã
- üìö **material_response** - —Ä–∞–±–æ—Ç–∞ —Å –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏ –∫—É—Ä—Å–∞

### Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

- üí¨ –°–æ–æ–±—â–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `messages`
- ü§ñ –û—Ç–≤–µ—Ç—ã –ò–ò-—Ç—å—é—Ç–æ—Ä–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ `bot_responses`
- üîó –°–≤—è–∑—å —á–µ—Ä–µ–∑ `telegram_user_id` –∏ `telegram_username`
- üì± –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —á–∞—Ç–æ–≤

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
pytest

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞
pytest --cov=app
```

## üõ†Ô∏è –£—Ç–∏–ª–∏—Ç—ã

```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
python scripts/init_db.py --create --migrate --seed

# –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
python scripts/seed_data.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
curl http://localhost:8000/health
```

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License